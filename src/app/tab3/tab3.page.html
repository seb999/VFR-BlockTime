<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Log details
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large"> Log details</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-grid>
    <ion-row>
      <ion-col >
        <ion-button style="float: right;"  color="success"  [hidden]="this.editMode"  (click)="editMode = true" ><ion-icon name="create"></ion-icon></ion-button>
        <ion-button  style="float: right;"  color="success" [hidden]="!this.editMode" (click)="this.saveLog(this.selectedLog)"><ion-icon name="caret-forward"></ion-icon></ion-button>
        <ion-button style="float: right;"   color="danger" ><ion-icon name="trash"></ion-icon></ion-button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>Date</h2>
            <p>{{selectedLog?.logBookDate | date: 'dd/MM/yyyy'}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">Date</ion-label>
          <ion-input placeholder="Enter" *ngIf="selectedLog?.logBookDate" [(ngModel)] = "selectedLog!.logBookDate"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>Fly time</h2>
            <p>{{selectedLog?.logBookTotalFlightTime}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">Fly time</ion-label>
          <ion-input placeholder="Enter" *ngIf="selectedLog?.logBookTotalFlightTime" [(ngModel)] = "selectedLog!.logBookTotalFlightTime"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>Nbr fly</h2>
            <p>{{selectedLog?.logBookLanding}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">Nbr fly</ion-label>
          <ion-input placeholder="Enter" *ngIf="selectedLog" [(ngModel)] = "selectedLog!.logBookLanding"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>Model</h2>
            <p>{{selectedLog?.aircraftModel?.aircraftModelName}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">Model</ion-label>
          <ion-select  *ngIf="selectedLog?.aircraftModel?.aircraftModelId" [(ngModel)] = "selectedLog!.aircraftModel!.aircraftModelId" >
            <ion-select-option *ngFor="let aircraft of lookupList[0]; let index" [value]="aircraft.value" >{{aircraft.label}}</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>

      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>Registration</h2>
            <p>{{selectedLog?.logBookAircraftRegistration}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">Registration</ion-label>
          <ion-input placeholder="Enter" *ngIf="selectedLog?.logBookAircraftRegistration" [(ngModel)] = "selectedLog!.logBookAircraftRegistration"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

   <ion-row>
      <ion-col>
        <ion-item [hidden]="this.editMode"> 
          <ion-label>
            <h2>Block In</h2>
            <p>{{selectedLog?.logBookDepartureTime}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">Block In</ion-label>
          <ion-input placeholder="Enter" *ngIf="selectedLog" [(ngModel)] = "selectedLog!.logBookDepartureTime"></ion-input>
        </ion-item>
      </ion-col>

      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>Block out</h2>
            <p>{{selectedLog?.logBookArrivalTime}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">Block out</ion-label>
          <ion-input placeholder="Enter" *ngIf="selectedLog" [(ngModel)] = "selectedLog!.logBookArrivalTime"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

     <ion-row>
      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>From</h2>
            <p>{{selectedLog?.airportDeparture?.airportCode}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">From</ion-label>
          <ion-select  *ngIf="selectedLog?.airportDeparture?.airportId" [(ngModel)] = "selectedLog!.airportDeparture!.airportId">
            <ion-select-option *ngFor="let airportField of lookupList[1]; let index" [value]="airportField.value" >{{airportField.label}}</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>To</h2>
            <p>{{selectedLog?.airportArrival?.airportCode}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">To</ion-label>
          <ion-select  *ngIf="selectedLog?.airportArrival?.airportId" [(ngModel)] = "selectedLog!.airportArrival!.airportId">
            <ion-select-option *ngFor="let airportField of lookupList[1]; let index" [value]="airportField.value" >{{airportField.label}}</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>

   <ion-row>
      <ion-col>
        <ion-list>
          <ion-item>
            <ion-label>PIC</ion-label>
            <ion-checkbox slot="start" [checked]="selectedLog?.logBookPIC" [disabled]="!this.editMode"  (ngModel) = "selectedLog?.logBookPIC" (ngModelChange) = "selectedLog!.logBookPIC = $event" ></ion-checkbox>
          </ion-item>
          <ion-item>
            <ion-label>Dual</ion-label>
            <ion-checkbox slot="start" [checked]="selectedLog?.logBookDual" [disabled]="!this.editMode" (ngModel) = "selectedLog?.logBookDual" (ngModelChange) = "selectedLog!.logBookDual = $event" ></ion-checkbox>
          </ion-item>
        </ion-list>
      </ion-col>
      <ion-col>
        <ion-list>
          <ion-item>
            <ion-label>IFR</ion-label>
            <ion-checkbox slot="start" [checked]="selectedLog?.logBookIFR" [disabled]="!this.editMode" (ngModel) = "selectedLog?.logBookIFR" (ngModelChange) = "selectedLog!.logBookIFR = $event"></ion-checkbox>
          </ion-item>
          <ion-item>
            <ion-label>Night</ion-label>
            <ion-checkbox slot="start" [checked]="selectedLog?.logBookNight" [disabled]="!this.editMode" (ngModel) = "selectedLog?.logBookNight" (ngModelChange) = "selectedLog!.logBookNight = $event"></ion-checkbox>
          </ion-item>
        </ion-list>
      </ion-col>
    
    </ion-row>

   <ion-row>
      <ion-col>
        <ion-item [hidden]="this.editMode">
          <ion-label>
            <h2>Comments</h2>
            <p>{{selectedLog?.logBookDescription}}</p>
          </ion-label>
        </ion-item>
        <ion-item fill="solid" [hidden]="!this.editMode"> 
          <ion-label position="floating">Comments</ion-label>
          <ion-textarea placeholder="Enter" *ngIf="selectedLog" [(ngModel)] = "selectedLog!.logBookDescription"></ion-textarea>
        </ion-item>
      </ion-col>
    </ion-row> 

  </ion-grid>

</ion-content>